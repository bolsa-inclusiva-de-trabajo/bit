<!DOCTYPE html>
<html lang="es" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>BIT</title>

    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link rel="stylesheet" crossorigin="anonymous"
          href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css"
          integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l">

    <link rel="stylesheet" crossorigin="anonymous"
          href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css">

    <link rel="stylesheet" href="/static/public/css/styles.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker.min.css" integrity="sha512-mSYUmp1HYZDFaVKK//63EcZq4iFWFjxSL+Z3T/aCt4IO9Cejm03q3NKKYN6pFQzY0SBOr8h+eCIAZHPXcpZaNw==" crossorigin="anonymous" />
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker.standalone.min.css" integrity="sha512-TQQ3J4WkE/rwojNFo6OJdyu6G8Xe9z8rMrlF9y7xpFbQfW5g8aSWcygCQ4vqRiJqFsDsE1T6MoAOMJkFXlrI9A==" crossorigin="anonymous" />
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.18/css/bootstrap-select.min.css" integrity="sha512-ARJR74swou2y0Q2V9k0GbzQ/5vJ2RBSoCWokg4zkfM29Fb3vZEQyv0iWBMW/yvKgyHSR/7D64pFMmU8nYmbRkg==" crossorigin="anonymous" />
</head>
<body class="d-flex flex-column h-100" >
<header>
    <!-- Fixed navbar -->
</header>

<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#ModalCRUDJob">
    Abrir modal crear oferta
</button>

<div class="modal" id="ModalCRUDJob">
	<form action="/api/job/edit" method="POST">
	<input
            type="hidden"
            th:name="${_csrf.parameterName}"
            th:value="${_csrf.token}" />
            
    <div class="modal-dialog" id="CRUDJob">
        <div class="modal-content">

            <div class="modal-header">
                <h4 class="modal-title">Alta de oferta laboral</h4>
                <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>

            <div class="modal-body">
              <div class="progress">
                <div class="progress-bar" role="progressbar" aria-valuenow="70"
                  aria-valuemin="0" aria-valuemax="100" style="width:10%">
                  <span class="sr-only">0%</span>
                </div>
              </div>
                    <div class="form-group mb-4">
                        <label for="inputTitleJob">Título:</label>
                        <input name="title" type="text" class="form-control" maxlength="75" id="inputTitleJob" placeholder="Título">
                        <div class="invalid-feedback">No puede dejar el campo vacio.</div>
                    </div>
                    <div class="form-group mb-4">
                      <label for="inputDescription">Descripción:</label>
                      <textarea name="description" class="form-control" rows="4" maxlength="300" id="inputDescription"></textarea>
                      <div class="invalid-feedback">No puede dejar el campo vacio.</div>
                  </div>
                    <div class="form-group mb-4">
                        <label for="inputExpiration">Fecha vencimiento oferta:</label>
                        <input name="expiration" type="text" class="form-control" id="inputExpiration" placeholder="Fecha vencimiento oferta">
                        <div class="invalid-feedback">Formato incorrecto</div>
                    </div>
            </div>

            <div class="modal-footer">
                <button type=button id="SubmitCRUDJob" class="btn btn-secondary">Siguiente</button>
            </div>
        </div>
    </div>

    <div class="modal-dialog" id="CRUDJobLastModal" style="display: none;">
        <div class="modal-content">

            <div class="modal-header">
              <h4 class="modal-title">Alta de oferta laboral</h4>
              <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>

            <div class="modal-body">
              <div class="progress">
                <div class="progress-bar" role="progressbar" aria-valuenow="70"
                  aria-valuemin="0" aria-valuemax="100" style="width:80%">
                  <span class="sr-only">0%</span>
                </div>
              </div>
                  <legend class="col-form-label col-sm-2 pt-0">Disponibilidad</legend>
                  <div class="form-group mb-4">
                    <div class="form-check-inline">
                      <label class="form-check-label">
                        <input name="fullTime" type="hidden" class="form-check-input" value="false">
                        <input name="fullTime" type="checkbox" class="form-check-input" value="true">Tiempo Completo
                      </label>
                    </div>
                    <div class="form-check-inline">
                      <label class="form-check-label">
                      <input name="partTime" type="hidden" class="form-check-input" value="false">
                        <input name="partTime" type="checkbox" class="form-check-input" value="true">Medio Tiempo
                      </label>
                    </div>
                    <div class="form-check-inline">
                      <label class="form-check-label">
                      	<input name="homeWork" type="hidden" class="form-check-input" value="false">
                        <input name="homeWork" type="checkbox" class="form-check-input" value="true">Teletrabajo
                      </label>
                    </div>
                    <div class="form-check-inline">
                      <label class="form-check-label">
                      	<input name="dependent" type="hidden" class="form-check-input" value="false">
                        <input name="dependent" type="checkbox" class="form-check-input" value="true">Dependiente
                      </label>
                    </div>
                    <div class="form-check-inline">
                      <label class="form-check-label">
                      	<input name="independent" type="hidden" class="form-check-input" value="false">
                        <input name="independent" type="checkbox" class="form-check-input" value="true">Independiente
                      </label>
                    </div>
                  </div>
            </div>

            <div class="modal-footer">
            	<button type=button id="prevCRUDJobLastModal" class="btn btn-secondary">Anterior</button>
                <button type=submit id="submitCRUDJobLastModal" class="btn btn-primary">Publicar Oferta</button>
            </div>

        </div>
    </div>
</form>
</div>



    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"
            integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
            crossorigin="anonymous"></script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-Piv4xVNRyMGpqkS2by6br4gNJ7DXjqk09RmUpJ8jgGtD7zP9yug3goQfGII0yAns"
            crossorigin="anonymous"></script>
    
	<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js"
	integrity="sha512-T/tUfKSV1bihCnd+MxKD0Hm1uBBroVYBOYSk1knyvQ9VyZJpc/ALb4P0r6ubwVPSGB2GvjeoMAJJImBG12TiaQ=="
	crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js" integrity="sha512-qTXRIMyZIFb8iQcfjXWCO8+M5Tbc38Qi5WzdPOYZHIlZpzBHG3L3by84BBBOiRGiEb7KKtAOAs5qYdUiZiQNNQ==" crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.18/js/bootstrap-select.min.js" integrity="sha512-yDlE7vpGDP7o2eftkCiPZ+yuUyEcaBwoJoIhdXv71KZWugFqEphIS3PU60lEkFaz8RxaVsMpSvQxMBaKVwA5xg==" crossorigin="anonymous"></script>
    <script src="/static/public/js/scripts.js"></script>
 	<script type="text/javascript">
   	
   	$(function() {
   		function checkEmpty(input)
   		{
   			let empty=0;
   			console.log($(input));
   			if($(input).val().length === 0)
   			{
   				$(input).removeClass("is-valid");
   				$(input).addClass("is-invalid");
   				empty=1;
   			}
   			else
 			{
   				$(input).removeClass("is-invalid");
   				$(input).addClass("is-valid");
 			}
   			return empty;
   		}
   		$('#inputExpiration').datepicker({
   		    format: "dd/mm/yyyy"
   		});
   		$("#SubmitCRUDJob").click(function() {
   			let noError=0;
   			noError|=checkEmpty('#inputTitleJob');
   			noError|=checkEmpty('#inputDescription');
   			if(moment($("#inputExpiration").val(), "DD/MM/YYYY", true).isValid())
       		{
        		$("#inputExpiration").removeClass("is-invalid");
        		$("#inputExpiration").addClass("is-valid");
       		}
        	else
       		{
        		$("#inputExpiration").removeClass("is-valid");
        		$("#inputExpiration").addClass("is-invalid");
        		noError=3;
       		}
   			if(noError===0)
        	{
        		$('.modal-dialog').hide();
    			$('#CRUDJobLastModal').show();
        	}
   			
   		});
        $("#prevCRUDJobLastModal").click(function() {
        	$('.modal-dialog').hide();
			$('#CRUDJob').show();
        });
    });
    </script>
</body>
</html>

